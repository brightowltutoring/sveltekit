import{S as $e,i as et,s as Qe,k as u,q as D,a as E,J as se,l as g,m as r,r as M,h as n,c as L,K as le,n as i,p as qe,b as Xe,L as e,F as Y,g as tt,t as ze,A as Ye,d as ot,f as Ge,G as ke,H as Ee,C as Ze,E as X,o as it,I as q,$ as He,D as st}from"./index-82240eb1.js";import{g as Ne}from"./navigation-2cae7ee8.js";import{e as Le,s as be}from"./index-e66ee8b6.js";import{n as ye,r as je,a as Ke,d as _e,i as lt,g as at,h as nt}from"./store-593b742a.js";import{i as rt,a as z,s as dt,o as ct,y as ut,d as gt,R as pt,G as we,b as ht,c as mt,e as vt}from"./firebase-f2065c54.js";function Je(t){let s,c,b,w;return{c(){s=u("input"),this.h()},l(a){s=g(a,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),this.h()},h(){i(s,"class","text-center p-3 mt-3 w-full"),i(s,"id","emailField"),i(s,"type","email"),i(s,"placeholder","email")},m(a,p){Xe(a,s,p),He(s,t[1]),b||(w=[Y(s,"keyup",function(){st(t[4](t[1]))&&t[4](t[1]).apply(this,arguments)}),Y(s,"input",t[8])],b=!0)},p(a,p){t=a,p&2&&s.value!==t[1]&&He(s,t[1])},i(a){a&&(c||ke(()=>{c=Ee(s,be,{duration:500,easing:Le}),c.start()}))},o:Ye,d(a){a&&n(s),b=!1,Ze(w)}}}function ft(t){let s,c,b,w,a,p,f,x,y,S,G,B,H,A,N,V,P,j,o,l,h,d,m,I,W,K,ae,Z,ne,re,Se=t[2],$,J,de,_,R,ce,ue,Q,ge,pe,O,he,me,U,ve,ee,te,fe,Ie,k=Je(t);return{c(){s=u("div"),c=u("p"),b=D("Login"),w=E(),a=u("div"),p=u("div"),f=u("ul"),x=u("li"),y=se("svg"),S=se("path"),G=E(),B=u("li"),H=D("Sign-in with Google"),V=E(),P=u("p"),j=D("or"),o=E(),l=u("div"),h=u("ul"),d=u("li"),m=se("svg"),I=se("path"),W=E(),K=u("li"),ae=D("Sign-in with Link"),re=E(),k.c(),$=E(),J=u("span"),de=E(),_=u("div"),R=u("p"),ce=D("Welcome User"),ue=E(),Q=u("p"),ge=D("Redirecting to your page in"),pe=E(),O=u("p"),he=D("\u230A\u03C0\u230B"),me=E(),U=u("button"),ve=D("Logout"),this.h()},l(C){s=g(C,"DIV",{class:!0,style:!0});var v=r(s);c=g(v,"P",{class:!0});var Ce=r(c);b=M(Ce,"Login"),Ce.forEach(n),w=L(v),a=g(v,"DIV",{class:!0});var F=r(a);p=g(F,"DIV",{class:!0});var Fe=r(p);f=g(Fe,"UL",{class:!0});var oe=r(f);x=g(oe,"LI",{});var xe=r(x);y=le(xe,"svg",{height:!0,width:!0,viewBox:!0});var Pe=r(y);S=le(Pe,"path",{fill:!0,d:!0}),r(S).forEach(n),Pe.forEach(n),xe.forEach(n),G=L(oe),B=g(oe,"LI",{});var Te=r(B);H=M(Te,"Sign-in with Google"),Te.forEach(n),oe.forEach(n),Fe.forEach(n),V=L(F),P=g(F,"P",{class:!0});var De=r(P);j=M(De,"or"),De.forEach(n),o=L(F),l=g(F,"DIV",{id:!0,class:!0});var Me=r(l);h=g(Me,"UL",{class:!0});var ie=r(h);d=g(ie,"LI",{});var Be=r(d);m=le(Be,"svg",{height:!0,width:!0,viewBox:!0});var Oe=r(m);I=le(Oe,"path",{fill:!0,d:!0}),r(I).forEach(n),Oe.forEach(n),Be.forEach(n),W=L(ie),K=g(ie,"LI",{});var Ue=r(K);ae=M(Ue,"Sign-in with Link"),Ue.forEach(n),ie.forEach(n),Me.forEach(n),re=L(F),k.l(F),$=L(F),J=g(F,"SPAN",{id:!0}),r(J).forEach(n),F.forEach(n),de=L(v),_=g(v,"DIV",{class:!0,style:!0});var T=r(_);R=g(T,"P",{id:!0});var Ae=r(R);ce=M(Ae,"Welcome User"),Ae.forEach(n),ue=L(T),Q=g(T,"P",{});var Ve=r(Q);ge=M(Ve,"Redirecting to your page in"),Ve.forEach(n),pe=L(T),O=g(T,"P",{style:!0,id:!0});var We=r(O);he=M(We,"\u230A\u03C0\u230B"),We.forEach(n),me=L(T),U=g(T,"BUTTON",{id:!0});var Re=r(U);ve=M(Re,"Logout"),Re.forEach(n),T.forEach(n),v.forEach(n),this.h()},h(){i(c,"class","text-5xl pb-10"),i(S,"fill","white"),i(S,"d",`M0,105C0,47.103,47.103,0,105,0c23.383,0,45.515,7.523,64.004,21.756l-24.4,31.696C133.172,44.652,119.477,40,105,40
c-35.841,0-65,29.159-65,65s29.159,65,65,65c28.867,0,53.398-18.913,61.852-45H105V85h105v20c0,57.897-47.103,105-105,105
S0,162.897,0,105z`),i(y,"height","24"),i(y,"width","24"),i(y,"viewBox","0 0 210 210"),i(f,"class","flex justify-center items-center gap-5"),i(p,"class",A="bg-[#4285f4] hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-90")+" text-xl text-white"),i(P,"class","py-5"),i(I,"fill","white"),i(I,"d",`M413.974,71.026C368.171,25.225,307.274,0,242.5,0S116.829,25.225,71.026,71.026C25.225,116.829,0,177.726,0,242.5
s25.225,125.671,71.026,171.474C116.829,459.775,177.726,485,242.5,485c32.731,0,64.491-6.414,94.397-19.063l-11.688-27.63
C299.022,449.384,271.194,455,242.5,455C125.327,455,30,359.673,30,242.5S125.327,30,242.5,30S455,125.327,455,242.5
c0,51.323-31.534,74.699-60.834,74.699c-29.299,0-60.833-23.375-60.833-74.699c0-50.086-40.747-90.833-90.833-90.833
s-90.833,40.748-90.833,90.833s40.747,90.833,90.833,90.833c29.655,0,56.034-14.286,72.622-36.335
c4.248,8.577,9.594,16.336,16.04,23.113c16.613,17.468,38.988,27.087,63.004,27.087c24.017,0,46.392-9.62,63.005-27.087
C475.377,300.97,485,274.132,485,242.5C485,177.726,459.775,116.829,413.974,71.026z M242.5,303.333
c-33.543,0-60.833-27.29-60.833-60.833s27.29-60.833,60.833-60.833s60.833,27.29,60.833,60.833S276.043,303.333,242.5,303.333z`),i(m,"height","24"),i(m,"width","24"),i(m,"viewBox","0 0 485 485"),i(h,"class","flex justify-center items-center gap-5"),i(l,"id","passwordlessLoginBtn"),i(l,"class",Z="bg-red-400 hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-80")+" text-xl text-white"),i(J,"id","emailStatusMessage"),i(a,"class","logInDiv"),i(R,"id","loginWelcomeText"),qe(O,"font-size","30px"),i(O,"id","redirectMessage"),i(U,"id","logoutBtn"),i(_,"class","logOutDiv"),qe(_,"display","none"),i(s,"class",ee="hover:scale-[102%] font-Poppins shadow-md "+(t[0]?"hover:shadow-xl ":"hover:shadow-lg")+" rounded-md mx-auto w-1/3 min-w-fit p-10 m-1 text-center duration-300 group"),i(s,"style",te=`background:${t[3]}`)},m(C,v){Xe(C,s,v),e(s,c),e(c,b),e(s,w),e(s,a),e(a,p),e(p,f),e(f,x),e(x,y),e(y,S),e(f,G),e(f,B),e(B,H),e(a,V),e(a,P),e(P,j),e(a,o),e(a,l),e(l,h),e(h,d),e(d,m),e(m,I),e(h,W),e(h,K),e(K,ae),e(a,re),k.m(a,null),e(a,$),e(a,J),e(s,de),e(s,_),e(_,R),e(R,ce),e(_,ue),e(_,Q),e(Q,ge),e(_,pe),e(_,O),e(O,he),e(_,me),e(_,U),e(U,ve),fe||(Ie=[Y(p,"click",t[5]),Y(l,"click",t[7]),Y(U,"click",t[6])],fe=!0)},p(C,[v]){t=C,v&1&&A!==(A="bg-[#4285f4] hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-90")+" text-xl text-white")&&i(p,"class",A),v&1&&Z!==(Z="bg-red-400 hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-80")+" text-xl text-white")&&i(l,"class",Z),v&4&&Qe(Se,Se=t[2])?(tt(),ze(k,1,1,Ye),ot(),k=Je(t),k.c(),Ge(k,1),k.m(a,$)):k.p(t,v),v&1&&ee!==(ee="hover:scale-[102%] font-Poppins shadow-md "+(t[0]?"hover:shadow-xl ":"hover:shadow-lg")+" rounded-md mx-auto w-1/3 min-w-fit p-10 m-1 text-center duration-300 group")&&i(s,"class",ee),v&8&&te!==(te=`background:${t[3]}`)&&i(s,"style",te)},i(C){N||ke(()=>{N=Ee(p,be,{duration:600,easing:Le}),N.start()}),ne||ke(()=>{ne=Ee(l,be,{duration:600,easing:Le}),ne.start()}),Ge(k)},o(C){ze(k)},d(C){C&&n(s),k.d(C),fe=!1,Ze(Ie)}}}function yt(t,s,c){let b,w,a,p,f,x;X(t,ye,o=>c(9,w=o)),X(t,je,o=>c(10,a=o)),X(t,Ke,o=>c(11,p=o)),X(t,_e,o=>c(12,f=o)),X(t,lt,o=>c(0,x=o));let y="",S;it(()=>{const o=document.querySelector(".logInDiv"),l=document.querySelector(".logOutDiv"),h=document.querySelector("#loginWelcomeText");if(rt(z,window.location.href)){let d=window.localStorage.getItem("emailForSignIn");d||(d=window.prompt("Please provide your email for confirmation")),dt(z,d,window.location.href).then(()=>window.localStorage.removeItem("emailForSignIn")).catch(m=>console.log(m))}ct(z,d=>{d?(q(_e,f=!0,f),console.log("User is signed in!"),N(d.email),o.style.display="none",l.style.display="block",h.innerText=d.displayName?`Hey ${d.displayName}!`:`Hey ${d.email}!`):(q(_e,f=!1,f),q(ye,w=!1,w),console.log("User is NOT signed in"),o.style.display="block",l.style.display="none")})});function G(o){const l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o);o==""?(emailField.style.border="1px solid #aaa",emailField.style.color="#aaa",emailField.style.fontSize="16px"):l?(emailField.style.border="2px solid #59d0ae",emailField.style.backgroundColor="white",emailField.style.color="#10bb8a",passwordlessLoginBtn.addEventListener("click",V,{once:!0}),emailField.addEventListener("keydown",V)):(emailField.style.border="1.5px solid red",emailField.style.color="red",emailField.style.fontSize="20px")}function B(){const o=new we;ht(z,o).then(l=>{we.credentialFromResult(l).accessToken,l.user}).catch(l=>{l.code,l.message,l.customData.email,we.credentialFromError(l)})}function H(){let o=y;console.log("loginViaPasswordlessEmail",o),o.length!==0&&vt(z,o,{url:"https://thinksolve.io/login",handleCodeInApp:!0}).then(()=>{window.localStorage.setItem("emailForSignIn",o),console.log("success with sendSignInLinkToEmail!")}).catch(h=>{const d=h.code,m=h.message;console.log("errorCode",d),console.log("errorMessage",m)})}function A(){mt(z).then(()=>{console.log("logged out"),Ne("/")}).catch(o=>{console.log(o),console.log("FAILED firebase signOut function")})}async function N(o){const l=ut(gt,"email");(await pt(l)).forEach(d=>{if(o===d.id){let m=3e3,I=parseInt(m/1e3),W="/";console.log(`A match! ${d.id} => ${W}`),q(Ke,p=setInterval(()=>{I>0&&(I+=-1,document.getElementById("redirectMessage").innerHTML=` ${I}`)},1e3),p),q(je,a=setTimeout(()=>{Ne(W),q(ye,w=!1,w)},m),a)}})}function V(o){(o.type=="click"||o.key=="Enter")&&(H(),emailStatusMessage.style.display="block",emailStatusMessage.innerHTML=`
                  <div class="p-3 font-Poppins" style=" color: #10bb8a"> 
                      Link sent to email 
                  </div>
                  `,passwordlessLoginBtn.style.opacity="0.2",passwordlessLoginBtn.style.pointerEvents="none",emailField.addEventListener("keydown",l=>l.stopImmediatePropagation(),!0),passwordlessLoginBtn.addEventListener("click",l=>l.stopImmediatePropagation(),!0))}const P=()=>{y==""&&c(2,S=!S)};function j(){y=this.value,c(1,y)}return t.$$.update=()=>{t.$$.dirty&1&&c(3,b=x?at:nt)},[x,y,S,b,G,B,A,P,j]}class bt extends $e{constructor(s){super(),et(this,s,yt,ft,Qe,{})}}export{bt as L};
