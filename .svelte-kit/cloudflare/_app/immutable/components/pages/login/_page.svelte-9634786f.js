import{S as we,i as ke,s as ye,k as c,a as p,q as P,l as d,m as v,h as m,c as h,r as U,n,_ as Ee,p as u,b as ve,F as t,J as G,t as ue,d as Se,f as ge,C as _e,H as Ie,o as Le,$ as me,D as Fe,L as Te,M as Be,A as be,g as De,I as Oe}from"../../../chunks/index-a7bed9d3.js";import{p as Re,t as Ae,o as Me,d as pe,a as H,G as le,u as Ne,v as Pe,g as he,y as Ue,R as He,e as We,f as Ce,x as ze,z as $e}from"../../../chunks/navigation-a93162b3.js";import"../../../chunks/singletons-53142d77.js";function fe(o){let s,l,k,_;return{c(){s=c("input"),this.h()},l(e){s=d(e,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){n(s,"id","emailField"),n(s,"type","email"),n(s,"placeholder","email"),n(s,"class","svelte-m7g9u3")},m(e,I){ve(e,s,I),me(s,o[0]),k||(_=[G(s,"input",o[6]),G(s,"input",function(){Fe(o[2](o[0]))&&o[2](o[0]).apply(this,arguments)})],k=!0)},p(e,I){o=e,I&1&&s.value!==o[0]&&me(s,o[0])},i(e){e&&(l||Te(()=>{l=Be(s,Ce,{duration:500,easing:We}),l.start()}))},o:be,d(e){e&&m(s),k=!1,_e(_)}}}function qe(o){let s,l,k,_,e,I,W,C,z,E,A,$,q,i,a,S,b,M,B,x=o[1],V,D,j,O,J,g,R,K,Q,N,X,Y,L,Z,ee,F,te,ie,se,f=fe(o);return{c(){s=c("main"),l=c("video"),_=p(),e=c("div"),I=c("br"),W=p(),C=c("br"),z=p(),E=c("button"),A=P("Sign-in with Google"),$=p(),q=c("br"),i=p(),a=c("br"),S=p(),b=c("button"),M=P("Sign-in via link"),B=p(),f.c(),V=p(),D=c("span"),j=p(),O=c("span"),J=p(),g=c("div"),R=c("h2"),K=P("Welcome User"),Q=p(),N=c("h3"),X=P("Redirecting to your page in"),Y=p(),L=c("h3"),Z=P("\u230A\u03C0\u230B"),ee=p(),F=c("button"),te=P("Logout"),this.h()},l(y){s=d(y,"MAIN",{});var w=v(s);l=d(w,"VIDEO",{controlslist:!0,src:!0,style:!0}),v(l).forEach(m),_=h(w),e=d(w,"DIV",{class:!0,id:!0,style:!0});var r=v(e);I=d(r,"BR",{}),W=h(r),C=d(r,"BR",{}),z=h(r),E=d(r,"BUTTON",{id:!0,class:!0});var ne=v(E);A=U(ne,"Sign-in with Google"),ne.forEach(m),$=h(r),q=d(r,"BR",{}),i=h(r),a=d(r,"BR",{}),S=h(r),b=d(r,"BUTTON",{id:!0,class:!0});var oe=v(b);M=U(oe,"Sign-in via link"),oe.forEach(m),B=h(r),f.l(r),V=h(r),D=d(r,"SPAN",{id:!0,class:!0,style:!0}),v(D).forEach(m),j=h(r),O=d(r,"SPAN",{id:!0,style:!0,class:!0}),v(O).forEach(m),r.forEach(m),J=h(w),g=d(w,"DIV",{class:!0,id:!0,style:!0});var T=v(g);R=d(T,"H2",{class:!0,id:!0});var ae=v(R);K=U(ae,"Welcome User"),ae.forEach(m),Q=h(T),N=d(T,"H3",{class:!0});var re=v(N);X=U(re,"Redirecting to your page in"),re.forEach(m),Y=h(T),L=d(T,"H3",{class:!0,style:!0,id:!0});var ce=v(L);Z=U(ce,"\u230A\u03C0\u230B"),ce.forEach(m),ee=h(T),F=d(T,"BUTTON",{id:!0,class:!0});var de=v(F);te=U(de,"Logout"),de.forEach(m),T.forEach(m),w.forEach(m),this.h()},h(){l.autoplay=!0,l.loop=!0,l.muted=!0,l.playsInline=!0,n(l,"controlslist","nodownload"),Ee(l.src,k="/login-bg-video-blurred.mp4")||n(l,"src",k),u(l,"min-height","90vh"),u(l,"max-height","90vh"),u(l,"min-width","100vw"),u(l,"max-width","100vw"),u(l,"position","absolute"),u(l,"z-index","-1"),u(l,"top","0"),u(l,"left","0"),u(l,"margin","0"),u(l,"padding","0"),u(l,"filter","blur(10px)"),n(E,"id","googleBtn"),n(E,"class","svelte-m7g9u3"),n(b,"id","passwordlessLoginBtn"),n(b,"class","svelte-m7g9u3"),n(D,"id","emailStatusMessage"),n(D,"class","centering  svelte-m7g9u3"),u(D,"display","none"),n(O,"id","flyingEmoji"),u(O,"display","none"),n(O,"class","svelte-m7g9u3"),n(e,"class","loginLogoutDivs  svelte-m7g9u3"),n(e,"id","logInDiv"),u(e,"display","block"),n(R,"class","centering svelte-m7g9u3"),n(R,"id","loginWelcomeText"),n(N,"class","centering svelte-m7g9u3"),n(L,"class","centering svelte-m7g9u3"),u(L,"font-size","30px"),n(L,"id","redirectMessage"),n(F,"id","logoutBtn"),n(F,"class","svelte-m7g9u3"),n(g,"class","loginLogoutDivs svelte-m7g9u3"),n(g,"id","logOutDiv"),u(g,"display","none")},m(y,w){ve(y,s,w),t(s,l),t(s,_),t(s,e),t(e,I),t(e,W),t(e,C),t(e,z),t(e,E),t(E,A),t(e,$),t(e,q),t(e,i),t(e,a),t(e,S),t(e,b),t(b,M),t(e,B),f.m(e,null),t(e,V),t(e,D),t(e,j),t(e,O),t(s,J),t(s,g),t(g,R),t(R,K),t(g,Q),t(g,N),t(N,X),t(g,Y),t(g,L),t(L,Z),t(g,ee),t(g,F),t(F,te),ie||(se=[G(E,"click",o[3]),G(b,"click",o[5]),G(F,"click",o[4])],ie=!0)},p(y,[w]){w&2&&ye(x,x=y[1])?(De(),ue(f,1,1,be),Se(),f=fe(y),f.c(),ge(f,1),f.m(e,V)):f.p(y,w)},i(y){ge(f)},o(y){ue(f)},d(y){y&&m(s),f.d(y),ie=!1,_e(se)}}}function xe(o,s,l){let k;Ie(o,pe,i=>l(7,k=i));let _="",e=!1;Le(()=>{if(Re(H,window.location.href)){let i=window.localStorage.getItem("emailForSignIn");i||(i=window.prompt("Please provide your email for confirmation")),Ae(H,i,window.location.href).then(()=>window.localStorage.removeItem("emailForSignIn")).catch(a=>console.log(a))}Me(H,i=>{i?(console.log("User is signed in!"),E(i.email),logInDiv.style.display="none",logOutDiv.style.display="block",loginWelcomeText.innerText=i.displayName?`Hey ${i.displayName}!`:`Hey ${i.email}!`):console.log("User is NOT signed in")})});function I(i){const a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i);i.length===0?(emailField.style.border="1px solid #aaa",emailField.style.color="#aaa",emailField.style.fontSize="16px"):a?(emailField.style.border="2px solid #59d0ae",emailField.style.backgroundColor="white",emailField.style.color="#10bb8a",passwordlessLoginBtn.addEventListener("click",()=>A()),emailField.addEventListener("keydown",S=>{S.key==="Enter"&&A()})):(emailField.style.border="1.5px solid red",emailField.style.color="red",emailField.style.fontSize="20px")}function W(){const i=new le;Ne(H,i).then(a=>{le.credentialFromResult(a).accessToken,a.user}).catch(a=>{a.code,a.message,a.customData.email,le.credentialFromError(a)})}function C(){let i=emailField.value;console.log(i),i.length!==0&&ze(H,i,{url:"https://thinksolve.io/login",handleCodeInApp:!0}).then(()=>{window.localStorage.setItem("emailForSignIn",i),console.log("success with sendSignInLinkToEmail!")}).catch(S=>{S.code,S.message,console.log("error with sendSignInLinkToEmail")})}function z(){Pe(H).then(()=>{console.log("logged out"),he("/")}).catch(i=>{console.log(i),console.log("FAILED firebase signOut function")})}async function E(i){const a=Ue($e,"email");(await He(a)).forEach(b=>{if(i===b.id){let M=3e3,B=parseInt(M/1e3),x="/";console.log(`A match! ${b.id} => ${x}`),setInterval(()=>{B>0&&(B+=-1,document.getElementById("redirectMessage").innerHTML=` ${B}`)},1e3),Oe(pe,k=setTimeout(()=>{he(x)},M),k)}})}function A(){passwordlessLoginBtn.style.opacity="0.2",passwordlessLoginBtn.style.pointerEvents="none",C(),window.addEventListener("keydown",i=>i.stopImmediatePropagation(),!0),window.addEventListener("click",i=>i.stopImmediatePropagation(),!0),flyingEmoji.style.display="block",emailStatusMessage.style.display="block",emailStatusMessage.innerHTML=`
                <span class="centering" style=" font-weight: bold; font-size: 18px; color: #10bb8a"> 
                    Link sent to email 
                </span>
                `}const $=()=>{_.length==0&&l(1,e=!e)};function q(){_=this.value,l(0,_)}return[_,e,I,W,z,$,q]}class Je extends we{constructor(s){super(),ke(this,s,xe,qe,ye,{})}}export{Je as default};
