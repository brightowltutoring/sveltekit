import{S as pe,i as ve,s as fe,k as o,a as h,q as H,l as a,m as p,h as u,c as v,r as M,n as l,W as ye,p as r,b as _e,F as e,X as me,J as z,A as ge,C as we,o as be,D as Ee}from"../../../chunks/index-0251ac3a.js";import{i as Se,s as Ie,o as ke,a as O,G as se,b as Fe,c as Le,g as he,y as Te,R as Be,d as De,e as Re}from"../../../chunks/navigation-2603dfb5.js";import"../../../chunks/singletons-f92c51f0.js";import"../../../chunks/index-ac9af0b2.js";function Ne(m){let g,i,R,W,s,x,N,C,P,w,V,q,t,n,b,U,d,_,$,G,f,j,L,J,T,X,c,B,K,Q,A,Y,Z,S,ee,te,I,le,ie,ne;return{c(){g=o("main"),i=o("video"),W=h(),s=o("div"),x=o("br"),N=h(),C=o("br"),P=h(),w=o("button"),V=H("Sign-in with Google"),q=h(),t=o("br"),n=h(),b=o("br"),U=h(),d=o("div"),_=o("button"),$=H("Sign-in via link"),G=h(),f=o("input"),j=h(),L=o("span"),J=h(),T=o("span"),X=h(),c=o("div"),B=o("h2"),K=H("Welcome User"),Q=h(),A=o("h3"),Y=H("Redirecting to your page in"),Z=h(),S=o("h3"),ee=H("\u230A\u03C0\u230B"),te=h(),I=o("button"),le=H("Logout"),this.h()},l(D){g=a(D,"MAIN",{});var E=p(g);i=a(E,"VIDEO",{controlslist:!0,src:!0,style:!0}),p(i).forEach(u),W=v(E),s=a(E,"DIV",{class:!0,id:!0,style:!0});var y=p(s);x=a(y,"BR",{}),N=v(y),C=a(y,"BR",{}),P=v(y),w=a(y,"BUTTON",{id:!0,class:!0});var oe=p(w);V=M(oe,"Sign-in with Google"),oe.forEach(u),q=v(y),t=a(y,"BR",{}),n=v(y),b=a(y,"BR",{}),U=v(y),d=a(y,"DIV",{id:!0});var k=p(d);_=a(k,"BUTTON",{id:!0,class:!0});var ae=p(_);$=M(ae,"Sign-in via link"),ae.forEach(u),G=v(k),f=a(k,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),j=v(k),L=a(k,"SPAN",{id:!0,class:!0,style:!0}),p(L).forEach(u),J=v(k),T=a(k,"SPAN",{id:!0,style:!0,class:!0}),p(T).forEach(u),k.forEach(u),y.forEach(u),X=v(E),c=a(E,"DIV",{class:!0,id:!0,style:!0});var F=p(c);B=a(F,"H2",{class:!0,id:!0});var re=p(B);K=M(re,"Welcome User"),re.forEach(u),Q=v(F),A=a(F,"H3",{class:!0});var de=p(A);Y=M(de,"Redirecting to your page in"),de.forEach(u),Z=v(F),S=a(F,"H3",{class:!0,style:!0,id:!0});var ce=p(S);ee=M(ce,"\u230A\u03C0\u230B"),ce.forEach(u),te=v(F),I=a(F,"BUTTON",{id:!0,class:!0});var ue=p(I);le=M(ue,"Logout"),ue.forEach(u),F.forEach(u),E.forEach(u),this.h()},h(){i.autoplay=!0,i.loop=!0,i.muted=!0,i.playsInline=!0,l(i,"controlslist","nodownload"),ye(i.src,R="/login-bg-video-blurred.mp4")||l(i,"src",R),r(i,"min-height","100vh"),r(i,"max-height","100vh"),r(i,"min-width","100vw"),r(i,"max-width","100vw"),r(i,"position","absolute"),r(i,"z-index","-1"),r(i,"top","0"),r(i,"left","0"),r(i,"margin","0"),r(i,"padding","0"),r(i,"filter","blur(10px)"),l(w,"id","googleBtn"),l(w,"class","svelte-1mhl4m5"),l(_,"id","passwordlessLoginBtn"),l(_,"class","svelte-1mhl4m5"),l(f,"id","emailField"),l(f,"type","email"),l(f,"placeholder","email"),l(f,"class","svelte-1mhl4m5"),l(L,"id","emailStatusMessage"),l(L,"class","centering  svelte-1mhl4m5"),r(L,"display","none"),l(T,"id","flyingEmoji"),r(T,"display","none"),l(T,"class","svelte-1mhl4m5"),l(d,"id","emailSectionHover"),l(s,"class","loginLogoutDivs svelte-1mhl4m5"),l(s,"id","logInDiv"),r(s,"display","block"),l(B,"class","centering svelte-1mhl4m5"),l(B,"id","loginWelcomeText"),l(A,"class","centering svelte-1mhl4m5"),l(S,"class","centering svelte-1mhl4m5"),r(S,"font-size","30px"),l(S,"id","redirectMessage"),l(I,"id","logoutBtn"),l(I,"class","svelte-1mhl4m5"),l(c,"class","loginLogoutDivs svelte-1mhl4m5"),l(c,"id","logOutDiv"),r(c,"display","none")},m(D,E){_e(D,g,E),e(g,i),e(g,W),e(g,s),e(s,x),e(s,N),e(s,C),e(s,P),e(s,w),e(w,V),e(s,q),e(s,t),e(s,n),e(s,b),e(s,U),e(s,d),e(d,_),e(_,$),e(d,G),e(d,f),me(f,m[0]),e(d,j),e(d,L),e(d,J),e(d,T),e(g,X),e(g,c),e(c,B),e(B,K),e(c,Q),e(c,A),e(A,Y),e(c,Z),e(c,S),e(S,ee),e(c,te),e(c,I),e(I,le),ie||(ne=[z(w,"click",m[4]),z(f,"input",m[5]),z(f,"input",function(){Ee(m[1](m[0]))&&m[1](m[0]).apply(this,arguments)}),z(I,"click",m[6])],ie=!0)},p(D,[E]){m=D,E&1&&f.value!==m[0]&&me(f,m[0])},i:ge,o:ge,d(D){D&&u(g),ie=!1,we(ne)}}}function Pe(m,g,i){let R;be(()=>{if(Se(O,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");t||(t=window.prompt("Please provide your email for confirmation")),Ie(O,t,window.location.href).then(n=>{window.localStorage.removeItem("emailForSignIn")}).catch(n=>console.log(n))}ke(O,t=>{t?(console.log("User is signed in!"),C(t.email),logInDiv.style.display="none",logOutDiv.style.display="block",loginWelcomeText.innerText=t.displayName?`Hey ${t.displayName}!`:`Hey ${t.email}!`):console.log("User is NOT signed in")})});function W(t){const n=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);t.length===0?(emailField.style.border="1px solid #aaa",emailField.style.color="#aaa",emailField.style.fontSize="16px"):n?(emailField.style.border="2px solid #59d0ae",emailField.style.backgroundColor="white",emailField.style.color="#10bb8a",passwordlessLoginBtn.addEventListener("click",()=>P()),emailField.addEventListener("keydown",b=>{b.key==="Enter"&&P()})):(emailField.style.border="1.5px solid red",emailField.style.color="red",emailField.style.fontSize="20px")}function s(){const t=new se;Fe(O,t).then(n=>{se.credentialFromResult(n).accessToken,n.user}).catch(n=>{n.code,n.message,n.customData.email,se.credentialFromError(n)})}function x(){let t=emailField.value;console.log(t),t.length!==0&&De(O,t,{url:"https://thinksolve.io/login",handleCodeInApp:!0}).then(()=>{window.localStorage.setItem("emailForSignIn",t),console.log("success with sendSignInLinkToEmail!")}).catch(b=>{b.code,b.message,console.log("error with sendSignInLinkToEmail")})}function N(){Le(O).then(()=>{console.log("logged out"),he("/")}).catch(t=>{console.log(t),console.log("FAILED firebase signOut function")})}async function C(t){const n=Te(Re,"email");(await Be(n)).forEach(U=>{if(t===U.id){let d=3e3,_=parseInt(d/1e3),$="/";console.log(`A match! ${U.id} => ${$}`),setInterval(()=>{_>0&&(_+=-1,document.getElementById("redirectMessage").innerHTML=` ${_}`)},1e3),setTimeout(()=>{he($)},d)}})}function P(){passwordlessLoginBtn.style.opacity="0.2",passwordlessLoginBtn.style.pointerEvents="none",x(),window.addEventListener("keydown",t=>t.stopImmediatePropagation(),!0),window.addEventListener("click",t=>t.stopImmediatePropagation(),!0),flyingEmoji.style.display="block",emailStatusMessage.style.display="block",emailStatusMessage.innerHTML=`
                <span class="centering" style=" font-weight: bold; font-size: 18px; color: #10bb8a"> 
                    Link sent to email 
                </span>
                `}const w=()=>s();function V(){R=this.value,i(0,R)}return[R,W,s,N,w,V,()=>N()]}class Me extends pe{constructor(g){super(),ve(this,g,Pe,Ne,fe,{})}}export{Me as default};
