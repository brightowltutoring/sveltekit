import{S as I,i as b,s as g,k as f,a as k,W as x,l as h,m as p,h as c,c as C,a0 as U,n as S,G as q,b as w,f as v,A as E,o as R,$ as L,q as $,r as B,I as F,J}from"../../../chunks/index-bd8a2dbd.js";import{S as T,f as A}from"../../../chunks/firebase-1526a27c.js";import{e as D,f as K}from"../../../chunks/index-d9b16c0d.js";const{document:y}=L;function P(o){let t,n,r;return{c(){t=f("p"),n=$("Just a moment..."),this.h()},l(s){t=h(s,"P",{class:!0});var e=p(t);n=B(e,"Just a moment..."),e.forEach(c),this.h()},h(){S(t,"class","font-Poppins text-6xl text-center ")},m(s,e){w(s,t,e),q(t,n)},p(s,e){},i(s){r||F(()=>{r=J(t,K,{y:-400,duration:1e3,easing:D}),r.start()})},o:E,d(s){s&&c(t)}}}function M(o){let t,n,r,s,e,u=o[0]&&o[1].includes("service")&&o[1].includes("quantity"),a=u&&P();return{c(){t=f("script"),r=k(),s=f("main"),e=f("div"),a&&a.c(),this.h()},l(i){const l=x('[data-svelte="svelte-qn95fl"]',y.head);t=h(l,"SCRIPT",{src:!0});var _=p(t);_.forEach(c),l.forEach(c),r=C(i),s=h(i,"MAIN",{});var d=p(s);e=h(d,"DIV",{class:!0});var m=p(e);a&&a.l(m),m.forEach(c),d.forEach(c),this.h()},h(){y.title="Stripe Firebase Demo",U(t.src,n="https://js.stripe.com/v3/")||S(t,"src",n),S(e,"class","container pt-20")},m(i,l){q(y.head,t),w(i,r,l),w(i,s,l),q(s,e),a&&a.m(e,null)},p(i,[l]){l&3&&(u=i[0]&&i[1].includes("service")&&i[1].includes("quantity")),u?a?l&3&&v(a,1):(a=P(),a.c(),v(a,1),a.m(e,null)):a&&(a.d(1),a=null)},i(i){v(a)},o:E,d(i){c(t),i&&c(r),i&&c(s),a&&a.d()}}}function j(o,t,n){let r=!1,s,e;return R(()=>{n(0,r=!0);const u=Stripe(T);document.getElementById("btn"),n(1,e=window.location.search.slice(1)),window.history.replaceState({},"",`/${btoa(e)}`),s=()=>{let i=new URLSearchParams(e).get("quantity")||document.getElementById("inputQuantity").value,l=new URLSearchParams(e).get("email"),_=new URLSearchParams(e).get("extra"),d=new URLSearchParams(e).get("service");d&&i&&A({quantity:i,email:l,extra:_,service:d}).then(m=>{u.redirectToCheckout({sessionId:m.data.id})})},s()}),[r,e]}class Q extends I{constructor(t){super(),b(this,t,j,M,g,{})}}export{Q as default};
