import{S as k,i as x,s as C,k as m,a as P,W as U,l as d,m as p,h as r,c as E,a0 as g,n as y,G as q,b as h,f as S,A as I,o as R,$ as L,q as $,r as A,I as B,J as F}from"../../../chunks/index-bd8a2dbd.js";import{S as J,f as T}from"../../../chunks/firebase-1526a27c.js";import{e as D,f as K}from"../../../chunks/index-d9b16c0d.js";const{document:b}=L;function w(u){let a,o,n,l,t;return{c(){a=m("p"),o=$("Just a moment"),l=P(),t=m("span"),this.h()},l(s){a=d(s,"P",{class:!0});var e=p(a);o=A(e,"Just a moment"),e.forEach(r),l=E(s),t=d(s,"SPAN",{class:!0}),p(t).forEach(r),this.h()},h(){y(a,"class","font-Poppins text-6xl text-center animate-bounce"),y(t,"class","animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-50")},m(s,e){h(s,a,e),q(a,o),h(s,l,e),h(s,t,e)},p(s,e){},i(s){n||B(()=>{n=F(a,K,{y:-400,duration:2e3,easing:D}),n.start()})},o:I,d(s){s&&r(a),s&&r(l),s&&r(t)}}}function M(u){let a,o,n,l,t,s=u[0]&&u[1].includes("service")&&u[1].includes("quantity"),e=s&&w();return{c(){a=m("script"),n=P(),l=m("main"),t=m("div"),e&&e.c(),this.h()},l(i){const c=U('[data-svelte="svelte-qn95fl"]',b.head);a=d(c,"SCRIPT",{src:!0});var v=p(a);v.forEach(r),c.forEach(r),n=E(i),l=d(i,"MAIN",{});var f=p(l);t=d(f,"DIV",{class:!0});var _=p(t);e&&e.l(_),_.forEach(r),f.forEach(r),this.h()},h(){b.title="Stripe Firebase Demo",g(a.src,o="https://js.stripe.com/v3/")||y(a,"src",o),y(t,"class","container pt-20")},m(i,c){q(b.head,a),h(i,n,c),h(i,l,c),q(l,t),e&&e.m(t,null)},p(i,[c]){c&3&&(s=i[0]&&i[1].includes("service")&&i[1].includes("quantity")),s?e?c&3&&S(e,1):(e=w(),e.c(),S(e,1),e.m(t,null)):e&&(e.d(1),e=null)},i(i){S(e)},o:I,d(i){r(a),i&&r(n),i&&r(l),e&&e.d()}}}function N(u,a,o){let n=!1,l,t;return R(()=>{o(0,n=!0);const s=Stripe(J);document.getElementById("btn"),o(1,t=window.location.search.slice(1)),window.history.replaceState({},"",`/${btoa(t)}`),l=()=>{let i=new URLSearchParams(t).get("quantity")||document.getElementById("inputQuantity").value,c=new URLSearchParams(t).get("email"),v=new URLSearchParams(t).get("extra"),f=new URLSearchParams(t).get("service");f&&i&&T({quantity:i,email:c,extra:v,service:f}).then(_=>{s.redirectToCheckout({sessionId:_.data.id})})},l()}),[n,t]}class Q extends k{constructor(a){super(),x(this,a,N,M,C,{})}}export{Q as default};
