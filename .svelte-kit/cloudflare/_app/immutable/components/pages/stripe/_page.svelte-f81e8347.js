import{S as b,i as x,s as E,k as _,a as I,_ as k,l as h,m as p,h as c,c as C,a0 as U,n as g,N as q,b as v,f as d,A as w,o as R,$ as L,q as $,r as B,P as F,Q as T}from"../../../chunks/index-1063d0c6.js";import{e as A}from"../../../chunks/firebase-95e1a6a9.js";import{S as D}from"../../../chunks/private-2f12c45b.js";import{e as J,f as K}from"../../../chunks/index-0fa359d1.js";const{document:f}=L;function S(o){let t,n,r;return{c(){t=_("div"),n=$("Just a moment"),this.h()},l(a){t=h(a,"DIV",{class:!0});var s=p(t);n=B(s,"Just a moment"),s.forEach(c),this.h()},h(){g(t,"class","font-Poppins text-6xl text-center pt-20 animate-bounce loading svelte-x181g1")},m(a,s){v(a,t,s),q(t,n)},p(a,s){},i(a){r||F(()=>{r=T(t,K,{y:-400,duration:2e3,easing:J}),r.start()})},o:w,d(a){a&&c(t)}}}function M(o){let t,n,r,a,s=o[0]&&o[1].includes("service")&&o[1].includes("quantity"),e=s&&S();return{c(){t=_("script"),r=I(),a=_("main"),e&&e.c(),this.h()},l(i){const l=k('[data-svelte="svelte-qn95fl"]',f.head);t=h(l,"SCRIPT",{src:!0});var m=p(t);m.forEach(c),l.forEach(c),r=C(i),a=h(i,"MAIN",{});var u=p(a);e&&e.l(u),u.forEach(c),this.h()},h(){f.title="Stripe Firebase Demo",U(t.src,n="https://js.stripe.com/v3/")||g(t,"src",n)},m(i,l){q(f.head,t),v(i,r,l),v(i,a,l),e&&e.m(a,null)},p(i,[l]){l&3&&(s=i[0]&&i[1].includes("service")&&i[1].includes("quantity")),s?e?l&3&&d(e,1):(e=S(),e.c(),d(e,1),e.m(a,null)):e&&(e.d(1),e=null)},i(i){d(e)},o:w,d(i){c(t),i&&c(r),i&&c(a),e&&e.d()}}}function N(o,t,n){let r=!1,a,s;return R(()=>{n(0,r=!0);const e=Stripe(D);document.getElementById("btn"),n(1,s=window.location.search.slice(1)),window.history.replaceState({},"",`/${btoa(s)}`),a=()=>{let l=new URLSearchParams(s).get("quantity")||document.getElementById("inputQuantity").value,m=new URLSearchParams(s).get("email"),u=new URLSearchParams(s).get("extra"),y=new URLSearchParams(s).get("service");y&&l&&A({quantity:l,email:m,extra:u,service:y}).then(P=>{e.redirectToCheckout({sessionId:P.data.id})})},a()}),[r,s]}class Y extends b{constructor(t){super(),x(this,t,N,M,E,{})}}export{Y as default};
