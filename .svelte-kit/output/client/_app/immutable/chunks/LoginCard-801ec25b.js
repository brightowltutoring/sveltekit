import{S as Qe,i as Xe,s as Ne,k as u,J as oe,a as C,q as A,l as g,m as r,K as ie,h as n,c as F,r as V,n as i,p as Ae,b as je,L as e,F as X,g as Ye,t as Ve,A as Ke,d as Ze,f as We,G as ye,H as _e,C as Je,E as Q,o as $e,I as z,$ as Re,D as et}from"./index-82240eb1.js";import{g as qe}from"./navigation-434dbf90.js";import{e as we,s as ke}from"./index-e66ee8b6.js";import{n as me,r as ze,a as Ge,d as ve,i as tt,g as ot,h as it}from"./store-593b742a.js";import{i as st,a as G,s as lt,o as at,y as nt,d as rt,R as dt,G as fe,b as ct,c as ut,e as gt}from"./firebase-f2065c54.js";function He(t){let s,l,h,p;return{c(){s=u("input"),this.h()},l(d){s=g(d,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),this.h()},h(){i(s,"class","text-center p-3 mt-3 w-full"),i(s,"id","emailField"),i(s,"type","email"),i(s,"placeholder","email")},m(d,m){je(d,s,m),Re(s,t[1]),h||(p=[X(s,"keyup",function(){et(t[4](t[1]))&&t[4](t[1]).apply(this,arguments)}),X(s,"input",t[8])],h=!0)},p(d,m){t=d,m&2&&s.value!==t[1]&&Re(s,t[1])},i(d){d&&(l||ye(()=>{l=_e(s,ke,{duration:500,easing:we}),l.start()}))},o:Ke,d(d){d&&n(s),h=!1,Je(p)}}}function pt(t){let s,l,h,p,d,m,_,D,S,P,W,H,N,x,j,R,w,b,o,a,v,c,k,M,B,se,le,Ee=t[2],Y,K,ae,f,q,ne,re,J,de,ce,O,ue,ge,U,pe,Z,$,he,Se,E=He(t);return{c(){s=u("div"),l=u("div"),h=u("div"),p=u("ul"),d=u("li"),m=oe("svg"),_=oe("path"),D=C(),S=u("li"),P=A("Sign-in with Google"),N=C(),x=u("p"),j=A("or"),R=C(),w=u("div"),b=u("ul"),o=u("li"),a=oe("svg"),v=oe("path"),c=C(),k=u("li"),M=A("Sign-in with Link"),le=C(),E.c(),Y=C(),K=u("span"),ae=C(),f=u("div"),q=u("p"),ne=A("Welcome User"),re=C(),J=u("p"),de=A("Redirecting to your page in"),ce=C(),O=u("p"),ue=A("\u230A\u03C0\u230B"),ge=C(),U=u("button"),pe=A("Logout"),this.h()},l(I){s=g(I,"DIV",{class:!0,style:!0});var y=r(s);l=g(y,"DIV",{class:!0});var L=r(l);h=g(L,"DIV",{class:!0});var be=r(h);p=g(be,"UL",{class:!0});var ee=r(p);d=g(ee,"LI",{});var Ie=r(d);m=ie(Ie,"svg",{height:!0,width:!0,viewBox:!0});var Le=r(m);_=ie(Le,"path",{fill:!0,d:!0}),r(_).forEach(n),Le.forEach(n),Ie.forEach(n),D=F(ee),S=g(ee,"LI",{});var Ce=r(S);P=V(Ce,"Sign-in with Google"),Ce.forEach(n),ee.forEach(n),be.forEach(n),N=F(L),x=g(L,"P",{class:!0});var Fe=r(x);j=V(Fe,"or"),Fe.forEach(n),R=F(L),w=g(L,"DIV",{id:!0,class:!0});var xe=r(w);b=g(xe,"UL",{class:!0});var te=r(b);o=g(te,"LI",{});var Te=r(o);a=ie(Te,"svg",{height:!0,width:!0,viewBox:!0});var De=r(a);v=ie(De,"path",{fill:!0,d:!0}),r(v).forEach(n),De.forEach(n),Te.forEach(n),c=F(te),k=g(te,"LI",{});var Pe=r(k);M=V(Pe,"Sign-in with Link"),Pe.forEach(n),te.forEach(n),xe.forEach(n),le=F(L),E.l(L),Y=F(L),K=g(L,"SPAN",{id:!0}),r(K).forEach(n),L.forEach(n),ae=F(y),f=g(y,"DIV",{class:!0,style:!0});var T=r(f);q=g(T,"P",{id:!0});var Me=r(q);ne=V(Me,"Welcome User"),Me.forEach(n),re=F(T),J=g(T,"P",{});var Be=r(J);de=V(Be,"Redirecting to your page in"),Be.forEach(n),ce=F(T),O=g(T,"P",{style:!0,id:!0});var Oe=r(O);ue=V(Oe,"\u230A\u03C0\u230B"),Oe.forEach(n),ge=F(T),U=g(T,"BUTTON",{id:!0});var Ue=r(U);pe=V(Ue,"Logout"),Ue.forEach(n),T.forEach(n),y.forEach(n),this.h()},h(){i(_,"fill","white"),i(_,"d",`M0,105C0,47.103,47.103,0,105,0c23.383,0,45.515,7.523,64.004,21.756l-24.4,31.696C133.172,44.652,119.477,40,105,40
c-35.841,0-65,29.159-65,65s29.159,65,65,65c28.867,0,53.398-18.913,61.852-45H105V85h105v20c0,57.897-47.103,105-105,105
S0,162.897,0,105z`),i(m,"height","24"),i(m,"width","24"),i(m,"viewBox","0 0 210 210"),i(p,"class","flex justify-center items-center gap-5"),i(h,"class",W="bg-[#4285f4] hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-90")+" text-xl text-white"),i(x,"class","py-5"),i(v,"fill","white"),i(v,"d",`M413.974,71.026C368.171,25.225,307.274,0,242.5,0S116.829,25.225,71.026,71.026C25.225,116.829,0,177.726,0,242.5
s25.225,125.671,71.026,171.474C116.829,459.775,177.726,485,242.5,485c32.731,0,64.491-6.414,94.397-19.063l-11.688-27.63
C299.022,449.384,271.194,455,242.5,455C125.327,455,30,359.673,30,242.5S125.327,30,242.5,30S455,125.327,455,242.5
c0,51.323-31.534,74.699-60.834,74.699c-29.299,0-60.833-23.375-60.833-74.699c0-50.086-40.747-90.833-90.833-90.833
s-90.833,40.748-90.833,90.833s40.747,90.833,90.833,90.833c29.655,0,56.034-14.286,72.622-36.335
c4.248,8.577,9.594,16.336,16.04,23.113c16.613,17.468,38.988,27.087,63.004,27.087c24.017,0,46.392-9.62,63.005-27.087
C475.377,300.97,485,274.132,485,242.5C485,177.726,459.775,116.829,413.974,71.026z M242.5,303.333
c-33.543,0-60.833-27.29-60.833-60.833s27.29-60.833,60.833-60.833s60.833,27.29,60.833,60.833S276.043,303.333,242.5,303.333z`),i(a,"height","24"),i(a,"width","24"),i(a,"viewBox","0 0 485 485"),i(b,"class","flex justify-center items-center gap-5"),i(w,"id","passwordlessLoginBtn"),i(w,"class",B="bg-red-400 hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-80")+" text-xl text-white"),i(K,"id","emailStatusMessage"),i(l,"class","logInDiv"),i(q,"id","loginWelcomeText"),Ae(O,"font-size","30px"),i(O,"id","redirectMessage"),i(U,"id","logoutBtn"),i(f,"class","logOutDiv"),Ae(f,"display","none"),i(s,"class",Z="hover:scale-[102%] font-Poppins shadow-md "+(t[0]?"hover:shadow-xl ":"hover:shadow-lg")+" rounded-xl mx-auto w-1/3 min-w-fit p-10 m-1 text-center duration-300 group"),i(s,"style",$=`background:${t[3]}`)},m(I,y){je(I,s,y),e(s,l),e(l,h),e(h,p),e(p,d),e(d,m),e(m,_),e(p,D),e(p,S),e(S,P),e(l,N),e(l,x),e(x,j),e(l,R),e(l,w),e(w,b),e(b,o),e(o,a),e(a,v),e(b,c),e(b,k),e(k,M),e(l,le),E.m(l,null),e(l,Y),e(l,K),e(s,ae),e(s,f),e(f,q),e(q,ne),e(f,re),e(f,J),e(J,de),e(f,ce),e(f,O),e(O,ue),e(f,ge),e(f,U),e(U,pe),he||(Se=[X(h,"click",t[5]),X(w,"click",t[7]),X(U,"click",t[6])],he=!0)},p(I,[y]){t=I,y&1&&W!==(W="bg-[#4285f4] hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-90")+" text-xl text-white")&&i(h,"class",W),y&1&&B!==(B="bg-red-400 hover:shadow-md hover:scale-105 duration-200 rounded-md p-4 "+(t[0],"group-hover:bg-opacity-80")+" text-xl text-white")&&i(w,"class",B),y&4&&Ne(Ee,Ee=t[2])?(Ye(),Ve(E,1,1,Ke),Ze(),E=He(t),E.c(),We(E,1),E.m(l,Y)):E.p(t,y),y&1&&Z!==(Z="hover:scale-[102%] font-Poppins shadow-md "+(t[0]?"hover:shadow-xl ":"hover:shadow-lg")+" rounded-xl mx-auto w-1/3 min-w-fit p-10 m-1 text-center duration-300 group")&&i(s,"class",Z),y&8&&$!==($=`background:${t[3]}`)&&i(s,"style",$)},i(I){H||ye(()=>{H=_e(h,ke,{duration:600,easing:we}),H.start()}),se||ye(()=>{se=_e(w,ke,{duration:600,easing:we}),se.start()}),We(E)},o(I){Ve(E)},d(I){I&&n(s),E.d(I),he=!1,Je(Se)}}}function ht(t,s,l){let h,p,d,m,_,D;Q(t,me,o=>l(9,p=o)),Q(t,ze,o=>l(10,d=o)),Q(t,Ge,o=>l(11,m=o)),Q(t,ve,o=>l(12,_=o)),Q(t,tt,o=>l(0,D=o));let S="",P;$e(()=>{const o=document.querySelector(".logInDiv"),a=document.querySelector(".logOutDiv"),v=document.querySelector("#loginWelcomeText");if(st(G,window.location.href)){let c=window.localStorage.getItem("emailForSignIn");c||(c=window.prompt("Please provide your email for confirmation")),lt(G,c,window.location.href).then(()=>window.localStorage.removeItem("emailForSignIn")).catch(k=>console.log(k))}at(G,c=>{c?(z(ve,_=!0,_),console.log("User is signed in!"),j(c.email),o.style.display="none",a.style.display="block",v.innerText=c.displayName?`Hey ${c.displayName}!`:`Hey ${c.email}!`):(z(ve,_=!1,_),z(me,p=!1,p),console.log("User is NOT signed in"),o.style.display="block",a.style.display="none")})});function W(o){const a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o);o==""?(emailField.style.border="1px solid #aaa",emailField.style.color="#aaa",emailField.style.fontSize="16px"):a?(emailField.style.border="2px solid #59d0ae",emailField.style.backgroundColor="white",emailField.style.color="#10bb8a",passwordlessLoginBtn.addEventListener("click",R,{once:!0}),emailField.addEventListener("keydown",R)):(emailField.style.border="1.5px solid red",emailField.style.color="red",emailField.style.fontSize="20px")}function H(){const o=new fe;ct(G,o).then(a=>{fe.credentialFromResult(a).accessToken,a.user}).catch(a=>{a.code,a.message,a.customData.email,fe.credentialFromError(a)})}function N(){let o=S;console.log("loginViaPasswordlessEmail",o),o.length!==0&&gt(G,o,{url:"https://thinksolve.io/login",handleCodeInApp:!0}).then(()=>{window.localStorage.setItem("emailForSignIn",o),console.log("success with sendSignInLinkToEmail!")}).catch(v=>{const c=v.code,k=v.message;console.log("errorCode",c),console.log("errorMessage",k)})}function x(){ut(G).then(()=>{console.log("logged out"),qe("/")}).catch(o=>{console.log(o),console.log("FAILED firebase signOut function")})}async function j(o){const a=nt(rt,"email");(await dt(a)).forEach(c=>{if(o===c.id){let k=3e3,M=parseInt(k/1e3),B="/";console.log(`A match! ${c.id} => ${B}`),z(Ge,m=setInterval(()=>{M>0&&(M+=-1,document.getElementById("redirectMessage").innerHTML=` ${M}`)},1e3),m),z(ze,d=setTimeout(()=>{qe(B),z(me,p=!1,p)},k),d)}})}function R(o){(o.type=="click"||o.key=="Enter")&&(N(),emailStatusMessage.style.display="block",emailStatusMessage.innerHTML=`
                  <div class="p-3 font-Poppins" style=" color: #10bb8a"> 
                      Link sent to email 
                  </div>
                  `,passwordlessLoginBtn.style.opacity="0.2",passwordlessLoginBtn.style.pointerEvents="none",emailField.addEventListener("keydown",a=>a.stopImmediatePropagation(),!0),passwordlessLoginBtn.addEventListener("click",a=>a.stopImmediatePropagation(),!0))}const w=()=>{S==""&&l(2,P=!P)};function b(){S=this.value,l(1,S)}return t.$$.update=()=>{t.$$.dirty&1&&l(3,h=D?ot:it)},[D,S,P,h,W,H,x,w,b]}class wt extends Qe{constructor(s){super(),Xe(this,s,ht,pt,Ne,{})}}export{wt as L};
