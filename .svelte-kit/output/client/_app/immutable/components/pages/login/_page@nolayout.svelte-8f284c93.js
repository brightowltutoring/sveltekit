import{S as pe,i as ve,s as ye,k as n,a as h,q as M,l as o,m as p,h as u,c as v,r as O,n as l,V as fe,p as r,b as _e,G as e,W as me,H as G,A as ge,C as be,o as we,D as Ee}from"../../../chunks/index-3c293d12.js";import{o as Se,a as q,G as se,s as ke,b as Ie,g as he,y as Le,R as Fe,c as Te,d as Be}from"../../../chunks/navigation-6719e90a.js";import"../../../chunks/singletons-150bbee7.js";import"../../../chunks/index-323eada8.js";function De(m){let g,i,R,P,s,x,H,C,N,b,V,W,t,a,w,U,d,_,$,z,y,j,F,J,T,K,c,B,Q,X,A,Y,Z,S,ee,te,k,le,ie,ne;return{c(){g=n("main"),i=n("video"),P=h(),s=n("div"),x=n("br"),H=h(),C=n("br"),N=h(),b=n("button"),V=M("Sign-in with Google"),W=h(),t=n("br"),a=h(),w=n("br"),U=h(),d=n("div"),_=n("button"),$=M("Sign-in via link"),z=h(),y=n("input"),j=h(),F=n("span"),J=h(),T=n("span"),K=h(),c=n("div"),B=n("h2"),Q=M("Welcome User"),X=h(),A=n("h3"),Y=M("Redirecting to your page in"),Z=h(),S=n("h3"),ee=M("\u230A\u03C0\u230B"),te=h(),k=n("button"),le=M("Logout"),this.h()},l(D){g=o(D,"MAIN",{});var E=p(g);i=o(E,"VIDEO",{controlslist:!0,src:!0,style:!0}),p(i).forEach(u),P=v(E),s=o(E,"DIV",{class:!0,id:!0,style:!0});var f=p(s);x=o(f,"BR",{}),H=v(f),C=o(f,"BR",{}),N=v(f),b=o(f,"BUTTON",{id:!0,class:!0});var oe=p(b);V=O(oe,"Sign-in with Google"),oe.forEach(u),W=v(f),t=o(f,"BR",{}),a=v(f),w=o(f,"BR",{}),U=v(f),d=o(f,"DIV",{id:!0});var I=p(d);_=o(I,"BUTTON",{id:!0,class:!0});var ae=p(_);$=O(ae,"Sign-in via link"),ae.forEach(u),z=v(I),y=o(I,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),j=v(I),F=o(I,"SPAN",{id:!0,class:!0,style:!0}),p(F).forEach(u),J=v(I),T=o(I,"SPAN",{id:!0,style:!0,class:!0}),p(T).forEach(u),I.forEach(u),f.forEach(u),K=v(E),c=o(E,"DIV",{class:!0,id:!0,style:!0});var L=p(c);B=o(L,"H2",{class:!0,id:!0});var re=p(B);Q=O(re,"Welcome User"),re.forEach(u),X=v(L),A=o(L,"H3",{class:!0});var de=p(A);Y=O(de,"Redirecting to your page in"),de.forEach(u),Z=v(L),S=o(L,"H3",{class:!0,style:!0,id:!0});var ce=p(S);ee=O(ce,"\u230A\u03C0\u230B"),ce.forEach(u),te=v(L),k=o(L,"BUTTON",{id:!0,class:!0});var ue=p(k);le=O(ue,"Logout"),ue.forEach(u),L.forEach(u),E.forEach(u),this.h()},h(){i.autoplay=!0,i.loop=!0,i.muted=!0,i.playsInline=!0,l(i,"controlslist","nodownload"),fe(i.src,R="/login-bg-video-blurred.mp4")||l(i,"src",R),r(i,"min-height","100vh"),r(i,"max-height","100vh"),r(i,"min-width","100vw"),r(i,"max-width","100vw"),r(i,"position","absolute"),r(i,"z-index","-1"),r(i,"top","0"),r(i,"left","0"),r(i,"margin","0"),r(i,"padding","0"),r(i,"filter","blur(10px)"),l(b,"id","googleBtn"),l(b,"class","svelte-1mhl4m5"),l(_,"id","passwordlessLoginBtn"),l(_,"class","svelte-1mhl4m5"),l(y,"id","emailField"),l(y,"type","email"),l(y,"placeholder","email"),l(y,"class","svelte-1mhl4m5"),l(F,"id","emailStatusMessage"),l(F,"class","centering  svelte-1mhl4m5"),r(F,"display","none"),l(T,"id","flyingEmoji"),r(T,"display","none"),l(T,"class","svelte-1mhl4m5"),l(d,"id","emailSectionHover"),l(s,"class","loginLogoutDivs svelte-1mhl4m5"),l(s,"id","logInDiv"),r(s,"display","block"),l(B,"class","centering svelte-1mhl4m5"),l(B,"id","loginWelcomeText"),l(A,"class","centering svelte-1mhl4m5"),l(S,"class","centering svelte-1mhl4m5"),r(S,"font-size","30px"),l(S,"id","redirectMessage"),l(k,"id","logoutBtn"),l(k,"class","svelte-1mhl4m5"),l(c,"class","loginLogoutDivs svelte-1mhl4m5"),l(c,"id","logOutDiv"),r(c,"display","none")},m(D,E){_e(D,g,E),e(g,i),e(g,P),e(g,s),e(s,x),e(s,H),e(s,C),e(s,N),e(s,b),e(b,V),e(s,W),e(s,t),e(s,a),e(s,w),e(s,U),e(s,d),e(d,_),e(_,$),e(d,z),e(d,y),me(y,m[0]),e(d,j),e(d,F),e(d,J),e(d,T),e(g,K),e(g,c),e(c,B),e(B,Q),e(c,X),e(c,A),e(A,Y),e(c,Z),e(c,S),e(S,ee),e(c,te),e(c,k),e(k,le),ie||(ne=[G(b,"click",m[4]),G(y,"input",m[5]),G(y,"input",function(){Ee(m[1](m[0]))&&m[1](m[0]).apply(this,arguments)}),G(k,"click",m[6])],ie=!0)},p(D,[E]){m=D,E&1&&y.value!==m[0]&&me(y,m[0])},i:ge,o:ge,d(D){D&&u(g),ie=!1,be(ne)}}}function Re(m,g,i){let R;we(()=>{Se(q,t=>{t?(console.log("User is signed in!"),C(t.email),logInDiv.style.display="none",logOutDiv.style.display="block",loginWelcomeText.innerText=t.displayName?`Hey ${t.displayName}!`:`Hey ${t.email}!`):console.log("User is NOT signed in")})});function P(t){const a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);t.length===0?(emailField.style.border="1px solid #aaa",emailField.style.color="#aaa",emailField.style.fontSize="16px"):a?(emailField.style.border="2px solid #59d0ae",emailField.style.backgroundColor="white",emailField.style.color="#10bb8a",passwordlessLoginBtn.addEventListener("click",()=>N()),emailField.addEventListener("keydown",w=>{w.key==="Enter"&&N()})):(emailField.style.border="1.5px solid red",emailField.style.color="red",emailField.style.fontSize="20px")}function s(){const t=new se;ke(q,t).then(a=>{se.credentialFromResult(a).accessToken,a.user}).catch(a=>{a.code,a.message,a.customData.email,se.credentialFromError(a)})}function x(){let t=emailField.value;console.log(t),t.length!==0&&Te(q,t,{url:"https://www.brightowltutoring.com/login",handleCodeInApp:!0}).then(()=>{window.localStorage.setItem("emailForSignIn",t),console.log("success with sendSignInLinkToEmail!")}).catch(w=>{w.code,w.message,console.log("error with sendSignInLinkToEmail")})}function H(){Ie(q).then(()=>{console.log("logged out"),he("/")}).catch(t=>{console.log(t),console.log("FAILED firebase signOut function")})}async function C(t){const a=Le(Be,"email");(await Fe(a)).forEach(U=>{if(t===U.id){let d=3e3,_=parseInt(d/1e3),$="/";console.log(`A match! ${U.id} => ${$}`),setInterval(()=>{_>0&&(_+=-1,document.getElementById("redirectMessage").innerHTML=` ${_}`)},1e3),setTimeout(()=>{he($)},d)}})}function N(){passwordlessLoginBtn.style.opacity="0.2",passwordlessLoginBtn.style.pointerEvents="none",x(),window.addEventListener("keydown",t=>t.stopImmediatePropagation(),!0),window.addEventListener("click",t=>t.stopImmediatePropagation(),!0),flyingEmoji.style.display="block",emailStatusMessage.style.display="block",emailStatusMessage.innerHTML=`
                <span class="centering" style=" font-weight: bold; font-size: 18px; color: #10bb8a"> 
                    Link sent to email 
                </span>
                `}const b=()=>s();function V(){R=this.value,i(0,R)}return[R,P,s,H,b,V,()=>H()]}class Ae extends pe{constructor(g){super(),ve(this,g,Re,De,ye,{})}}export{Ae as default};
