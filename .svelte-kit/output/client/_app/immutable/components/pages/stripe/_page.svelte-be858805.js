import{S as I,i as g,s as C,k as d,a as U,W as R,l as f,m,h as c,c as L,a0 as $,n as h,G as _,b as y,f as k,A as v,o as B,$ as F,q,r as w,I as J,J as T}from"../../../chunks/index-bd8a2dbd.js";import{S as A,f as D}from"../../../chunks/firebase-1526a27c.js";import{e as K,f as M}from"../../../chunks/index-d9b16c0d.js";const{document:E}=F;function j(u){let e,i;return{c(){e=d("p"),i=q("Session Expired"),this.h()},l(r){e=f(r,"P",{class:!0});var t=m(e);i=w(t,"Session Expired"),t.forEach(c),this.h()},h(){h(e,"class","font-Poppins text-5xl text-center ")},m(r,t){y(r,e,t),_(e,i)},i:v,o:v,d(r){r&&c(e)}}}function G(u){let e,i,r;return{c(){e=d("p"),i=q("Just a moment..."),this.h()},l(t){e=f(t,"P",{class:!0});var a=m(e);i=w(a,"Just a moment..."),a.forEach(c),this.h()},h(){h(e,"class","font-Poppins text-6xl text-center ")},m(t,a){y(t,e,a),_(e,i)},p(t,a){},i(t){r||J(()=>{r=T(e,M,{y:-400,duration:1e3,easing:K}),r.start()})},o:v,d(t){t&&c(e)}}}function N(u){let e,i,r,t,a,p;function S(s,l){return l&3&&(p=null),p==null&&(p=!!(s[0]&&s[1].includes("service")&&s[1].includes("quantity"))),p?G:j}let o=S(u,-1),n=o(u);return{c(){e=d("script"),r=U(),t=d("main"),a=d("div"),n.c(),this.h()},l(s){const l=R('[data-svelte="svelte-qn95fl"]',E.head);e=f(l,"SCRIPT",{src:!0});var x=m(e);x.forEach(c),l.forEach(c),r=L(s),t=f(s,"MAIN",{});var P=m(t);a=f(P,"DIV",{class:!0});var b=m(a);n.l(b),b.forEach(c),P.forEach(c),this.h()},h(){E.title="Stripe Firebase Demo",$(e.src,i="https://js.stripe.com/v3/")||h(e,"src",i),h(a,"class","container pt-20")},m(s,l){_(E.head,e),y(s,r,l),y(s,t,l),_(t,a),n.m(a,null)},p(s,[l]){o!==(o=S(s,l))&&(n.d(1),n=o(s),n&&(n.c(),k(n,1),n.m(a,null)))},i(s){k(n)},o:v,d(s){c(e),s&&c(r),s&&c(t),n.d()}}}function O(u,e,i){let r=!1,t,a;return B(()=>{i(0,r=!0);const p=Stripe(A);document.getElementById("btn"),i(1,a=window.location.search.slice(1)),window.history.replaceState({},"foo",`/stripe?${btoa(a)}`),t=()=>{let o=new URLSearchParams(a).get("quantity")||document.getElementById("inputQuantity").value,n=new URLSearchParams(a).get("email"),s=new URLSearchParams(a).get("extra"),l=new URLSearchParams(a).get("service");l&&o&&D({quantity:o,email:n,extra:s,service:l}).then(x=>{p.redirectToCheckout({sessionId:x.data.id})})},t()}),[r,a]}class Y extends I{constructor(e){super(),g(this,e,O,N,C,{})}}export{Y as default};
