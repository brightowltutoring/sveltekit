import{S as I,i as g,s as C,k as d,a as U,W as R,l as f,m,h as c,c as L,a0 as $,n as h,G as _,b as y,f as k,A as v,o as B,$ as F,q as w,r as q,I as J,J as T}from"../../../chunks/index-bd8a2dbd.js";import{S as A,f as D}from"../../../chunks/firebase-1526a27c.js";import{e as K,f as M}from"../../../chunks/index-d9b16c0d.js";const{document:E}=F;function j(o){let e,i;return{c(){e=d("p"),i=w("Session Expired"),this.h()},l(s){e=f(s,"P",{class:!0});var t=m(e);i=q(t,"Session Expired"),t.forEach(c),this.h()},h(){h(e,"class","font-Poppins text-5xl text-center ")},m(s,t){y(s,e,t),_(e,i)},i:v,o:v,d(s){s&&c(e)}}}function G(o){let e,i,s;return{c(){e=d("p"),i=w("Just a moment ..."),this.h()},l(t){e=f(t,"P",{class:!0});var a=m(e);i=q(a,"Just a moment ..."),a.forEach(c),this.h()},h(){h(e,"class","font-Poppins text-6xl text-center ")},m(t,a){y(t,e,a),_(e,i)},p(t,a){},i(t){s||J(()=>{s=T(e,M,{y:-400,duration:1e3,easing:K}),s.start()})},o:v,d(t){t&&c(e)}}}function N(o){let e,i,s,t,a,u;function S(r,l){return l&3&&(u=null),u==null&&(u=!!(r[0]&&r[1].includes("service"))),u?G:j}let p=S(o,-1),n=p(o);return{c(){e=d("script"),s=U(),t=d("main"),a=d("div"),n.c(),this.h()},l(r){const l=R('[data-svelte="svelte-qn95fl"]',E.head);e=f(l,"SCRIPT",{src:!0});var x=m(e);x.forEach(c),l.forEach(c),s=L(r),t=f(r,"MAIN",{});var P=m(t);a=f(P,"DIV",{class:!0});var b=m(a);n.l(b),b.forEach(c),P.forEach(c),this.h()},h(){E.title="Stripe Firebase Demo",$(e.src,i="https://js.stripe.com/v3/")||h(e,"src",i),h(a,"class","container pt-20")},m(r,l){_(E.head,e),y(r,s,l),y(r,t,l),_(t,a),n.m(a,null)},p(r,[l]){p!==(p=S(r,l))&&(n.d(1),n=p(r),n&&(n.c(),k(n,1),n.m(a,null)))},i(r){k(n)},o:v,d(r){c(e),r&&c(s),r&&c(t),n.d()}}}function O(o,e,i){let s=!1,t,a;return B(()=>{i(0,s=!0);const u=Stripe(A);document.getElementById("btn"),i(1,a=window.location.search.slice(1)),window.history.replaceState({},"foo",`/stripe?${btoa(a)}`),t=()=>{let p=new URLSearchParams(a).get("quantity")||document.getElementById("inputQuantity").value,n=new URLSearchParams(a).get("email"),r=new URLSearchParams(a).get("extra"),l=new URLSearchParams(a).get("service");l&&D({quantity:p,email:n,extra:r,service:l}).then(x=>{u.redirectToCheckout({sessionId:x.data.id})})},t()}),[s,a]}class Y extends I{constructor(e){super(),g(this,e,O,N,C,{})}}export{Y as default};
