import{c as T,a as f,v as b,e as s}from"./index.js";import{I as g,c as y}from"./utils.js";import{i as k,a as W}from"./store.js";const _={code:".dropzone .dz-preview.dz-image-preview{background-color:transparent !important}",map:null};function D(){globalThis.onceBoolean||(setTimeout(()=>{document.querySelector(".dropzone").dispatchEvent(new CustomEvent("click"))},25),globalThis.onceBoolean=!0)}const I=T((c,o,t,S)=>{let p,m,u,v,w;u=f(k,e=>m=e),w=f(W,e=>v=e);let{text:n="\u{1F525}"}=o,{textSizeTW:i="text-3xl"}=o,{dimensionsTW:a="w-[65vw] sm:w-[60vw] h-[60vh]"}=o,{brightnessTW:d="brightness-100"}=o,l;async function h(e){console.log("drop it like its \u{1F525}"),y("dropzoneCSS","/dropzone.css");const{PUBLIC_UPLOAD_ENDPOINT:r}=await import("./public.js"),{Dropzone:z}=await import("dropzone");l=new z(e,{url:r,acceptedFiles:".heic,.jpeg,.jpg,.png,.txt,.pdf,.docx,.doc"}),x()}function x(){let e=[];l.on("error",r=>r.accepted&&e.push(r)),window==null||window.addEventListener("online",()=>{if(e.length>0)for(const r of e)l.processFile(r),r.previewElement.querySelector(".dz-error-mark").style.visibility="hidden",r.previewElement.querySelector(".dz-error-message").style.visibility="hidden"})}return o.text===void 0&&t.text&&n!==void 0&&t.text(n),o.textSizeTW===void 0&&t.textSizeTW&&i!==void 0&&t.textSizeTW(i),o.dimensionsTW===void 0&&t.dimensionsTW&&a!==void 0&&t.dimensionsTW(a),o.brightnessTW===void 0&&t.brightnessTW&&d!==void 0&&t.brightnessTW(d),c.css.add(_),v&&D(),p=m?"#1d1c43":"#ddd",u(),w(),`${b(g,"InView").$$render(c,{single:!0,onview:h,once:!0,margin:"0px"},{},{default:()=>`<form method="post" style="${"box-shadow: inset 0 -10px 10px "+s(p,!0)+"; border-radius: 50px; border-color: transparent; background-color: transparent"}" class="${"dropzone flex justify-center items-center flex-wrap overflow-scroll backdrop-blur-3xl "+s(d,!0)+" "+s(i,!0)+" "+s(a,!0)+" mx-auto group"}">
    <div class="dz-message font-Nunito group-hover:animate-pulse" data-dz-message>${s(n)}</div></form>`})}`});export{I as D};
