import{S as O,i as P,s as V,e as j,b as C,g as y,v as N,d as M,f as T,h as E,o as Z,Z as p,k as z,l as B,m as G,_ as H,$ as J,a0 as K,w as L,ad as A,ae as Q}from"./index.d162f37a.js";import{w as R}from"./index.247c28f4.js";function D(s){let o,t;const i=s[9].default,n=p(i,s,s[8],null);return{c(){o=z("div"),n&&n.c()},l(e){o=B(e,"DIV",{});var f=G(o);n&&n.l(f),f.forEach(E)},m(e,f){C(e,o,f),n&&n.m(o,null),s[10](o),t=!0},p(e,f){n&&n.p&&(!t||f&256)&&H(n,i,e,e[8],t?K(i,e[8],f,null):J(e[8]),null)},i(e){t||(y(n,e),t=!0)},o(e){M(n,e),t=!1},d(e){e&&E(o),n&&n.d(e),s[10](null)}}}function U(s){let o,t,i=!s[0]&&D(s);return{c(){i&&i.c(),o=j()},l(n){i&&i.l(n),o=j()},m(n,e){i&&i.m(n,e),C(n,o,e),t=!0},p(n,[e]){n[0]?i&&(N(),M(i,1,1,()=>{i=null}),T()):i?(i.p(n,e),e&1&&y(i,1)):(i=D(n),i.c(),y(i,1),i.m(o.parentNode,o))},i(n){t||(y(i),t=!0)},o(n){M(i),t=!1},d(n){i&&i.d(n),n&&E(o)}}}function W(s,o,t){let{$$slots:i={},$$scope:n}=o,e,{vanilla:f=!1}=o,{once:a=!1}=o,{onview:m=l=>console.log("i ❤️ slots")}=o,{single:r=!1}=o,{root:d=null}=o,{threshold:u=0}=o,{margin:g="0px"}=o;const _={root:d,threshold:u,rootMargin:g};function w(l,c){for(const h of l)h.isIntersecting&&(m(h.target),a&&c.unobserve(h.target))}Z(()=>{const l=new IntersectionObserver(w,_);!f&&!r&&l.observe(e),!f&&r&&l.observe(e.children[0]),f&&document.querySelectorAll("vanilla").forEach(c=>l.observe(c))});function b(l){L[l?"unshift":"push"](()=>{e=l,t(1,e)})}return s.$$set=l=>{"vanilla"in l&&t(0,f=l.vanilla),"once"in l&&t(2,a=l.once),"onview"in l&&t(3,m=l.onview),"single"in l&&t(4,r=l.single),"root"in l&&t(5,d=l.root),"threshold"in l&&t(6,u=l.threshold),"margin"in l&&t(7,g=l.margin),"$$scope"in l&&t(8,n=l.$$scope)},[f,e,a,m,r,d,u,g,n,i,b]}class v extends O{constructor(o){super(),P(this,o,W,U,V,{vanilla:0,once:2,onview:3,single:4,root:5,threshold:6,margin:7})}}function q(s){return Object.prototype.toString.call(s)==="[object Date]"}function S(s,o,t,i){if(typeof t=="number"||q(t)){const n=i-t,e=(t-o)/(s.dt||1/60),f=s.opts.stiffness*n,a=s.opts.damping*e,m=(f-a)*s.inv_mass,r=(e+m)*s.dt;return Math.abs(r)<s.opts.precision&&Math.abs(n)<s.opts.precision?i:(s.settled=!1,q(t)?new Date(t.getTime()+r):t+r)}else{if(Array.isArray(t))return t.map((n,e)=>S(s,o[e],t[e],i[e]));if(typeof t=="object"){const n={};for(const e in t)n[e]=S(s,o[e],t[e],i[e]);return n}else throw new Error(`Cannot spring ${typeof t} values`)}}function x(s,o={}){const t=R(s),{stiffness:i=.15,damping:n=.8,precision:e=.01}=o;let f,a,m,r=s,d=s,u=1,g=0,_=!1;function w(l,c={}){d=l;const h=m={};return s==null||c.hard||b.stiffness>=1&&b.damping>=1?(_=!0,f=A(),r=l,t.set(s=d),Promise.resolve()):(c.soft&&(g=1/((c.soft===!0?.5:+c.soft)*60),u=0),a||(f=A(),_=!1,a=Q(k=>{if(_)return _=!1,a=null,!1;u=Math.min(u+g,1);const I={inv_mass:u,opts:b,settled:!0,dt:(k-f)*60/1e3},F=S(I,r,s,d);return f=k,r=s,t.set(s=F),I.settled&&(a=null),!I.settled})),new Promise(k=>{a.promise.then(()=>{h===m&&k()})}))}const b={set:w,update:(l,c)=>w(l(d,s),c),subscribe:t.subscribe,stiffness:i,damping:n,precision:e};return b}export{v as I,x as s};
