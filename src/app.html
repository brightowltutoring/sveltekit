<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width" />
    %sveltekit.head%
  </head>
  <body>
    <!-- This set's the body's darkmode css state using localStorage, BEFORE anything svelte renders ... mimicking a server-side approach. Localstorage state set in LightDarkMode.svelte, i.e. from last session. -->
    <script>
      // bodyDarkModer();

      // function bodyDarkModer() {
      // const prefersDark = window.matchMedia(
      //   "(prefers-color-scheme: dark)"
      // ).matches;

      const lastSessionWasDarkmode =
        localStorage.getItem("isDarkModeLS") == "true";

      // if (prefersDark || lastSessionWasDarkmode) {
      if (lastSessionWasDarkmode) {
        document.body.classList.add("dark-mode");
      } else {
        document.body.classList.remove("dark-mode");
      }
      // }
    </script>

    <div>%sveltekit.body%</div>
  </body>
</html>
