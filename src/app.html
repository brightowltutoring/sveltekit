<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width" />
    %sveltekit.head%
  </head>
  <body>
    <!-- This set's the body's darkmode css state BEFORE anything svelte renders ... mimicking a server-side approach. Localstorage state set in LightDarkMode.svelte -->
    <script>
      if (getTheme() === "dark") {
        document.body.classList.add("dark-mode");
      } else {
        document.body.classList.remove("dark-mode");
      }

      function getTheme() {
        if (sessionStorage.getItem("isDarkModeLS") === "true") return "dark";
        if (sessionStorage.getItem("isDarkModeLS") === "false") return "light";
        if (window.matchMedia("(prefers-color-scheme: dark)").matches)
          return "dark";
        return "light";
      }
    </script>

    <div>%sveltekit.body%</div>
  </body>
</html>
